<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.web.Agrifood.mapper.CategoriesProductsMapper">
  <resultMap id="BaseResultMap" type="com.web.Agrifood.model.CategoriesProducts">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Jul 14 09:56:16 ICT 2022.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="title" jdbcType="VARCHAR" property="title" />
    <result column="discount" jdbcType="REAL" property="discount" />
    <result column="product_category" jdbcType="INTEGER" property="productCategory" />
    <result column="createAt" jdbcType="TIMESTAMP" property="createat" />
    <result column="updateAt" jdbcType="TIMESTAMP" property="updateat" />
    <result column="unit" jdbcType="VARCHAR" property="unit" />
    <result column="origin" jdbcType="VARCHAR" property="origin" />
    <result column="preserve" jdbcType="VARCHAR" property="preserve" />
    <result column="user_manual" jdbcType="VARCHAR" property="userManual" />
    <result column="quantity" jdbcType="INTEGER" property="quantity" />
  </resultMap>
  <select id="selectCommon" parameterType="java.lang.Integer" resultType="com.web.Agrifood.model.CategoriesProducts">
    select m.title category_title,  product.*
	from agrifood_web.product,
	(select product_category.id, category.title from agrifood_web.product_category, agrifood_web.category where product_category.categoryId = category.id and category.id = #{id,jdbcType=INTEGER}) m
	where product.product_category = m.id
   </select> 
  
</mapper>